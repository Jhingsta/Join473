<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join - Add Task</title>
    <link rel="stylesheet" href="styles/sidebar.css">
    <link rel="stylesheet" href="styles/addtask.css">
    <link rel="stylesheet" href="styles/addTaskSelfmadeDoms.css">
    <link rel="stylesheet" href="styles/standard.css">
    <link rel="stylesheet" href="styles/dropdown-menu.css">
    <link rel="stylesheet" href="styles/help.css">
    <link rel="stylesheet" href="styles/header.css">
  </head>
  <body>
    <!-- Sidebar -->
    <aside class="sidebar">
      <nav class="sidebar-nav">
        <div class="sidebar-logo-header">
          <img src="assets/sidebarLogo.png" alt="Join Logo" class="sidebar-join-logo">
        </div>
        <a href="summary.html" class="nav-item">
          <div class="nav-item-content">
            <img src="assets/Icons.png" alt="Summary">
            <span>Summary</span>
          </div>
        </a>
        <a href="addTask.html" class="nav-item active">
          <div class="nav-item-content">
            <img src="assets/Icons1.png" alt="Add Task">
            <span>Add Task</span>
          </div>
        </a>
        <a href="board.html" class="nav-item">
          <div class="nav-item-content">
            <img src="assets/Icons2.png" alt="Board">
            <span>Board</span>
          </div>
        </a>
        <a href="contacts.html" class="nav-item">
          <div class="nav-item-content">
            <img src="assets/Icons3.png" alt="Contacts">
            <span>Contacts</span>
          </div>
        </a>
      </nav>
      <div class="sidebar-footer">
        <a href="privacyPolicy.html">Privacy Policy</a>
        <a href="Legal-notice.html">Legal notice</a>
      </div>
    </aside>

    <!-- Header -->
    <header class="page-header">
      <img src="assets/sidebarLogo.png" alt="Join Logo" class="header-join-logo-absolute">
      <div class="header-right">
        <span class="logo-title">Kanban Project Management Tool</span>
        <div class="header-icons">
          <div class="help-icon" id="helpIcon">?</div>
          <div class="profile-wrapper">
            <div class="user-initial-small" id="userInitialButton"></div>
            <div class="dropdown-menu-small" id="userDropdown">
              <ul>
                <li class="mobile-only"><a href="help.html">Help</a></li>
                <li><a href="#">Legal Notice</a></li>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Log out</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      <div class="maincontent">
        <form id="addtask-form" novalidate>
          <div class="form-section">
            <label for="title">Title <span class="required-note">*</span></label>
            <input type="text" id="title" placeholder="Enter a title" autocomplete="off" />
            <div id="title-error" class="input-error-message"></div>

            <label for="desc">Description <span class="optional">(optional)</span></label>
            <textarea id="desc" placeholder="Enter a Description"></textarea>

            <label for="due-date-custom" style="margin-top:20px;">Due date <span class="required-note">*</span></label>
            <div class="custom-date-row">
              <input 
                type="text" 
                id="due-date-custom" 
                class="custom-date-input"
                placeholder="dd/mm/yyyy"
                autocomplete="off"
              />
              <button type="button" class="calendar-btn" id="calendarBtn" tabindex="-1">
                <img src="assets/event.png" alt="Calendar" class="calendar-icon"/>
              </button>
            </div>
            <div id="due-date-error" class="input-error-message"></div>
          </div>
          <div class="line"></div>
          <div class="form-section">
            <label>Priority</label>
            <div class="priority-buttons">
              <button type="button" class="priority-btn urgent" id="priority-urgent">
                <span class="priority-text">Urgent</span>
                <img src="assets/urgent.png" alt="Urgent" class="priority-icon-right">
              </button>
              <button type="button" class="priority-btn medium active-medium" id="priority-medium">
                <span class="priority-text">Medium</span>
                <img src="assets/mediumwhite.png" alt="Medium" class="priority-icon-right">
              </button>
              <button type="button" class="priority-btn low" id="priority-low">
                <span class="priority-text">Low</span>
                <img src="assets/low.png" alt="Low" class="priority-icon-right">
              </button>
            </div>
            <label for="assigned">Assigned to <span class="optional">(optional)</span></label>
            <div class="assigned-dropdown" id="assigned-dropdown">
              <div class="assigned-select" id="assigned-select">
                <input
                  type="text"
                  id="assigned-search"
                  class="assigned-search-input"
                  placeholder="Select contacts to assign"
                />
                <span class="dropdown-arrow-hover-area" id="assigned-arrow-hover">
                  <span class="dropdown-arrow-wrapper" id="assigned-arrow-wrapper">
                    <svg id="assigned-arrow" class="category-arrow" width="18" height="18" viewBox="0 0 24 24">
                      <polyline points="6 9 12 15 18 9" fill="none" stroke="#4589FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </span>
                </span>
              </div>
              <div class="assigned-options d-none" id="assigned-list"></div>
            </div>
            <div id="selected-avatars" class="selected-avatars"></div>
            <label for="category" style="margin-top:15px;">Category <span class="required-note">*</span></label>

            <!-- Category Dropdown -->
            <div class="category-dropdown" id="category-dropdown">
              <div class="category-select" id="category-select">
                <span id="category-selected-label" class="category-placeholder">Select task category</span>
                <span class="dropdown-arrow-hover-area" id="category-arrow-hover">
                  <span class="dropdown-arrow-wrapper" id="category-arrow-wrapper">
                    <svg id="category-arrow" class="category-arrow" width="18" height="18" viewBox="0 0 24 24">
                      <polyline points="6 9 12 15 18 9" fill="none" stroke="#4589FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </span>
                </span>
              </div>
              <div class="category-options" id="category-options" style="display: none;">
                <div class="category-option" data-value="Technical Task">Technical Task</div>
                <div class="category-option" data-value="User Story">User Story</div>
              </div>
            </div>

            <label for="subtasks">Subtasks <span class="optional">(optional)</span></label>
            <div class="subtask-input-row">
              <input type="text" placeholder="Add new subtask" class="subtask-input"/>
              <span class="add-subtask-button-wrapper">
                <button type="button" class="add-subtask-button">+</button>
              </span>
            </div>
            <div id="subtask-list-container" class="subtask-list-container">
              <div id="subtask-list" class="subtask-list"></div>
            </div>
          </div>
        </form>
        <div class="bottom-buttons">
          <div class="bottom-fixed-buttons">
            <button type="button" class="clear-btn" onclick="clearForm()">
              Clear <span class="x">×</span>
            </button>
            <button type="button" class="create-btn">Create Task ✔</button>
          </div>
        </div>
      </div>
    </main>

    <div class="mobile-bottom-nav">
  <div class="mobile-nav-items">
    <a href="summary.html" class="mobile-nav-item">
      <img src="assets/Icons.png" alt="Summary">
      <span>Summary</span>
    </a>
    <a href="addTask.html" class="mobile-nav-item active">
      <img src="assets/Icons1.png" alt="Add Task">
      <span>Add Task</span>
    </a>
    <a href="board.html" class="mobile-nav-item">
      <img src="assets/Icons2.png" alt="Board">
      <span>Board</span>
    </a>
    <a href="contacts.html" class="mobile-nav-item">
      <img src="assets/Icons3.png" alt="Contacts">
      <span>Contacts</span>
    </a>
  </div>
</div>

    <!-- Scripts -->
    <script src="scripts/addSubtaks.js"></script>
    <script src="scripts/dropdown-menu.js"></script>
    <script src="scripts/addtask-validation.js"></script>
    <script src="scripts/addTask.js"></script>
    <script src="scripts/userInitials.js" type="module"></script>
    <script src="scripts/navigation.js"></script>
  </body>
</html>
